<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <head>
        <title>SizeApp - Cadastro</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta charset="UTF-8" />
        <link href="http://localhost:8080/SizeApp/src/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" type="text/css" href="http://localhost:8080/SizeApp/src/css/animate.css" />
        <meta name="google-signin-scope" content="profile email" />
        <meta name="google-signin-client_id" content="377306572429-fdovga51la59ekd7n1qjsqltl0sjskod.apps.googleusercontent.com" />
        <script src="https://apis.google.com/js/platform.js" async="" defer=""></script>
        <style type="text/css">
            html, body { 
                height: 100%; 
                margin: 0; 
                padding: 0; 
            }
            div.flex-align {
                display: -webkit-flexbox;
                display: -ms-flexbox;
                display: -webkit-flex;
                display: flex;
                -webkit-flex-align: center;
                -ms-flex-align: center;
                -webkit-align-items: center;
                align-items: center;
                height: 100%;
            }
            .input[type="email"]{
                border-bottom-left-radius: 0px !important;
                border-bottom-right-radius: 0px !important;
            }
            .input[type="password"]{
                border-top-left-radius: 0px !important;
                border-top-right-radius: 0px !important;
                border-top: transparent;
            }
            .line-box{
                display: flex;
                align-items: center;
                color: #ddd;
            }
            .line{
                width: 40%;
                background-color: #ddd;
                height: 1px;
                margin: 0 auto;
            }
            /*Google Button Style*/
            .googleLabel{
                line-height: 48px;
                margin-bottom: 0px !important;
                margin-right: 3px;
            }
            .google{
                width: 48px;
                margin: 0 auto;
            }
            .googleLogin{
                display: flex;
                margin: 0 auto;
            }            
            .abcRioButton{
                background-color: #fff !important;
            }
            .abcRioButtonBlue{
                border-radius: 50% !important;
                background-color: #fff !important;
            }
            .abcRioButtonBlue:hover{
                background-color: #fff !important;
            }
            .abcRioButtonContentWrapper{
                border-radius: 50% !important;
            }
            /*Google Button Style - END*/
        </style>
    </head>
    <h:body>
        <div class="flex-align">
            <div class="container">
                <div class="col-md-4 col-md-offset-4 ">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h2>Cadastre-se aqui...</h2>
                        </div>
                        <div class="panel-body">
                            <h:form id="formz" enctype="multipart/form-data">
                                <div class="form-group">
                                    <input type="file" id="foto" name="foto" class="form-control" jsf:value="#{UsuarioController.usuarioModel.foto}"/>
                                    <input type="text" id="nome" placeholder="Nome" class="form-control input" jsf:value="#{UsuarioController.usuarioModel.nome}" name="nome" required="required" />
                                    <input type="email" id="email" placeholder="E-mail" class="form-control input" jsf:value="#{UsuarioController.usuarioModel.email}" name="email" required="required" />
                                    <input type="password" id="password" placeholder="Senha" class="form-control input" jsf:value="#{UsuarioController.usuarioModel.senha}" name="password" required="required" />
                                </div>
                                <h:commandButton class="btn btn-primary btn-block" action="#{UsuarioController.cadastrar()}" value="Cadastrar" />
                            </h:form>
                            <div class="form-group text-center">
                                <p>Já possui uma conta? <a href="../login/">Faça o login</a></p>
                            </div>
                            <div class="line-box">
                                <div class="line"></div>Ou<div class="line"></div>
                            </div>
                            <div class="form-group" style="align: right;">
                                <!--<p class="text-center">Ou</p>-->
                                <div style="display: flex">
                                    <div class="googleLogin">
                                        <p class="googleLabel">Cadastre-se com Google</p>
                                        <div class="google">
                                            <div id="googleButton" class="g-signin2" data-onsuccess="onSignIn" data-theme="dark" data-width="50" data-height="50" data-longtitle="true" data-lang="pt-BR"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <ui:include src="../src/models/navbar.xhtml" />
    </h:body>
    <script src="http://localhost:8080/SizeApp/src/js/jquery.js" type="text/javascript"></script>
    <script src="http://localhost:8080/SizeApp/src/js/bootstrap.min.js" type="text/javascript"></script>
    <script>
        function onSignIn(response) {
            // Conseguindo as informações do seu usuário:
            var perfil = response.getBasicProfile();

            // Conseguindo o ID do Usuário
            var userID = perfil.getId();

            // Conseguindo o Nome do Usuário
            var userName = perfil.getName();

            // Conseguindo o E-mail do Usuário
            var userEmail = perfil.getEmail();

            // Conseguindo a URL da Foto do Perfil
            var userPicture = perfil.getImageUrl();

            // Recebendo o TOKEN que você usará nas demais requisições à API:
            var LoR = response.getAuthResponse().id_token;
            document.getElementById('idToken').value = LoR;
            document.getElementById('googleForm:googleBtn').click();
        }
        ;
    </script>
</html>
